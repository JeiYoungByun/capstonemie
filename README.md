# Project 'Aura' : 상황인지 기반 지능형 미러

### **목차 (Table of Contents)**

1.  [**프로젝트 개요 및 핵심 가치**](#1--프로젝트-개요-및-핵심-가치)
2.  [**시장 분석 및 사업 전략**](#2--시장-분석-및-사업-전략)
3.  [**선행 기술 분석 및 차별점**](#3--선행-기술-분석-및-차별점)
4.  [**핵심 기능 상세 구현 전략**](#4--핵심-기능-상세-구현-전략)
5.  [**시스템 아키텍처 및 기술 스택**](#5--시스템-아키텍처-및-기술-스택)
6.  [**향후 계획 및 결론**](#6--향후-계획-및-결론)
7.  [**프로젝트 팀원**](#7--프로젝트-팀원)

---

## 1. 📝 프로젝트 개요 및 핵심 가치

#### **"당신의 습관을 기억하고, 상황에 맞춰 스스로 변하는 거울"**

본 프로젝트는 단순한 정보 나열을 넘어, 사용자의 **상태와 맥락을 이해하는** 지능형 스마트 미러 'Aura'를 개발합니다. 자체 개발한 AI 모듈은 거울 앞에 서는 사용자를 인식할 뿐만 아니라, **'언제, 얼마나 머물고, 무엇을 주로 보는지'** 와 같은 **사용 이력(History)**을 학습합니다.

이를 통해, 사용자가 자리를 비우면 자동으로 **[가족 공용 모드]**로 전환되어 소통의 장이 되고, 다시 사용자가 나타나면 과거의 이력을 바탕으로 가장 필요할 정보를 동적으로 우선순위화하여 보여주는 **완벽한 개인화**를 구현합니다.

### 우리가 해결하려는 문제: 살아있지 않던 '죽은 공간'의 문제

기존 스마트 미러는 **'사용자가 없을 때의 활용성 부재'**와 **'사용자의 습관을 반영하지 못하는 정적인 화면'**이라는 명확한 한계를 가집니다. 이는 가족 전체를 위한 소통의 도구가 아닌, 한 사람만을 위한 고립된 장치로 전락하게 만들며, 사용자의 습관에 맞춰 스스로 진화하지 못하고 매일 똑같은 정보만 나열하는 비효율을 낳습니다.

### 우리의 해결책: '상태'와 '이력'
저희 스마트 미러는 **'상태(State)'**와 **'이력(History)'**이라는 개념을 도입하여 이 문제를 해결합니다. '부재 상태'를 인지하면 **[가족을 위한 디지털 게시판]**으로 역할을 스스로 전환하고, '사용자 접속 상태'가 되면 **사용 이력**을 바탕으로 날씨 위젯을 가장 잘 보이는 곳에 동적으로 배치하는 등, **'학습형 개인 비서'**가 되어 가장 효율적인 정보 동선을 제공합니다.

---

## 2. 📈 시장 분석 및 사업 전략

### 시장 기회 및 핵심 진입 전략
-   **시장 성장성**: 스마트 홈 시장의 일부인 스마트 미러 시장은 연평균 10% 이상 꾸준히 성장 중입니다.
-   **차별화 포인트**: 기존 제품들이 제공하지 못하는 **'동적 개인화'** 기능을 통해 확실한 기술적 차별성을 확보하고, 클라우드가 아닌 **로컬(On-device AI)** 기반 처리를 통해 **'개인정보 보호'** 라는 중요한 가치를 소구합니다.
-   **핵심 타겟층**:
    -   기술 수용도가 높고 홈 인테리어에 관심이 많은 **30대 신혼부부**
    -   프리미엄 가전 및 개인화 경험에 대한 수요를 가진 **20대 후반 1인 가구**
-   **시장 진입 전략**:
    -   **D2C(Direct to Customer)** 모델을 통해 유통 비용을 최소화합니다.
    -   **와디즈(Wadiz)** 등 **크라우드 펀딩 플랫폼**을 통해 초기 자본을 확보하고, 시장의 반응을 직접 검증하며 충성도 높은 초기 팬덤을 구축합니다.
    -   **린 스타트업 방식**을 적용하여, **MVP(최소 기능 제품)**를 먼저 출시하고 고객 피드백을 바탕으로 빠르게 제품을 개선해 나갑니다.

### 경쟁 우위 및 주요 리스크
-   **경쟁 우위**:
    -   vs. Google Nest Hub: **개인정보 보호(On-device)**, **세션 기반의 연속적이고 동적인 UI** 제공
    -   vs. 타 MagicMirror² 프로젝트: **완성도 높은 제품화**, **단순 조립을 넘어선 독자적인 AI 기능**, **일관된 사용자 경험** 제공
    -   **'혁신성 + 프라이버시'** 라는 강력한 이중 포지셔닝이 가능합니다.
-   **주요 리스크 및 대응 전략**:
  
    | 리스크 | 대응 전략 |
    | ------ | --------- |
    | **콜드 스타트 문제** (초기 사용자 이력 데이터 부족) | 최초 사용 시 간단한 **선호도 설정 기능**을 제공하고, 초기 며칠간은 '탐색 모드'로 운영하여 빠르게 데이터를 수집합니다. |
    | **기술적 안정성** (라즈베리파이 기반) | 하드웨어 및 소프트웨어 최적화를 진행하고, 다양한 환경에서의 철저한 안정성 테스트(QA)를 거쳐 신뢰도를 확보합니다. |
    | **높은 초기 제작 비용** (부품 단가) | 전략적 부품 소싱을 통해 원가를 절감하고, 크라우드 펀딩을 통한 **선주문 후생산 방식**을 도입하여 재고 리스크를 최소화합니다. |


---

## 3. 🔬 선행 기술 분석 및 차별점

본 아이디어의 독창성을 검증하기 위해, '스마트 미러'와 '사용자 인식' 분야의 주요 선행 특허를 분석했습니다. 기존 특허들은 대부분 얼굴 인식을 **정적인 정보를 불러오기 위한 일회성 스위치**로 활용하는 데 그칩니다.

### 선행 특허 사례

1.  **US 10,810,912 B2 (AMAZON TECHNOLOGIES, INC.)**:
    -   **특허 내용**: 얼굴 인식을 통해 특정 사용자를 식별하고, 해당 사용자 계정에 연동된 **디지털 음성 비서를 활성화**하는 기술입니다. 즉, 얼굴은 '알렉사, 시작해'라는 명령을 내리기 위한 '열쇠' 역할에 가깝습니다.
    -   **한계**: 사용자를 인식하여 특정 기능(음성 비서)을 '깨우는' 단발성 트리거이며, 사용자가 자리를 비우거나 다시 돌아왔을 때의 연속적인 상태 변화나 정보의 동적 재구성에 대한 개념은 다루지 않습니다.

2.  **US 2014/0320625 A1 (GOOGLE INC.)**:
    -   **특허 내용**: 가정 내 컴퓨팅 기기(스마트 디스플레이 등)가 사용자를 인식하여, 해당 사용자의 **기본 설정(Pre-set) 프로필**을 불러오는 기술에 중점을 둡니다. 아빠를 인식하면 아빠의 배경화면과 위젯 목록을, 엄마를 인식하면 엄마의 것을 보여주는 방식입니다.
    -   **한계**: 미리 정해둔 '고정된' 프로필을 로딩하는 방식입니다. 사용자의 이용 습관이나 패턴이 변하더라도 이를 학습하여 정보의 우선순위를 동적으로 바꾸지는 못합니다.

3.  **KR 10-2018-0099496 A (LG ELECTRONICS INC.)**:
    -   **특허 내용**: 의류 관리기(스타일러)에 부착된 거울 디스플레이가 사용자를 인식하고, 해당 사용자의 기존 의류 관리 이력이나 선호하는 스타일 정보를 표시해주는 기술입니다.
    -   **한계**: '의류 관리'라는 매우 특정한 도메인에 한정되어 있으며, 얼굴 인식은 저장된 정보를 '조회'하기 위한 수단으로 사용됩니다. 사용자의 부재 시 공용 모드로 전환되는 등, 미러의 역할 자체가 상황에 따라 변하는 동적인 개념은 포함하지 않습니다.

이와 같은 기존 스마트 미러 및 스마트 디스플레이(Google Nest Hub 등)의 '개인화' 기능은, 특정 사용자를 인식하여 미리 설정된 **'정적 프로필'을 불러오는(Static Profile Loading)** 수준에 머물러 있습니다. 이는 마치 스마트폰에서 '아빠 폴더', '엄마 폴더'를 열어주는 것과 같아서, 폴더 안의 정보(위젯) 순서와 배치는 언제나 고정되어 있습니다.

저희 'Project Aura'는 이러한 한계를 극복하기 위해, 다음과 같은 두 가지 핵심적인 차별점을 통해 **'동적 상황인지(Dynamic Context Awareness)'**를 구현합니다.

### 1. '프로필 로딩'을 넘어선 '학습형 UI 재구성'

이것이 가장 큰 기술적 차별점입니다. 저희 'Aura'는 사용자의 행동을 학습하는 **'지능형 런처(Intelligent Launcher)'**와 같습니다.

-   **동작 원리**: 사용자가 특정 시간대에 어떤 위젯을 주로 확인하는지와 같은 **사용 이력(History)**을 SQLite DB에 지속적으로 기록하고 학습합니다.
-   **구체적 예시**:
    > *"A님은 지난 일주일간 아침 8시에는 날씨 정보를 80% 확률로, 뉴스 정보를 20% 확률로 확인했다"*
    라는 학습 결과를 바탕으로, 다음 날 아침 8시에 A님이 거울 앞에 서면, **날씨 위젯을 화면의 가장 크고 잘 보이는 곳으로 스스로 옮겨놓고, 뉴스는 그 아래에 작게 표시**합니다. 사용자의 습관에 따라 UI가 스스로 진화하는 **'동적 UI 재구성(Dynamic UI Reconfiguration)'**이 바로 저희의 핵심 기술입니다.

### 2. '로그인'을 넘어선 '세션 관리'와 '상태 전이'

기존 제품에서 얼굴 인식은 단순히 '로그인'이라는 일회성 이벤트입니다. 사용자가 자리를 비우면 세션은 그대로 끝나고, 거울은 의미 없는 대기 화면으로 돌아갑니다.

-   **동작 원리**: 저희는 사용자의 '등장'부터 '퇴장'까지를 하나의 **'세션(Session)'**으로 관리합니다. 더 중요한 것은, 사용자가 퇴장하여 **'부재 상태'가 되는 것 역시 중요한 상황(Context)으로 인지**한다는 점입니다.
-   **구체적 예시**:
    '부재 상태'가 30초 이상 지속되면, 시스템은 개인 모드를 종료하고 스스로 **[가족 공용 모드]**라는 완전히 다른 역할로 **'상태를 전이(State Transition)'**합니다. 이 모드에서는 공유 캘린더나 가족사진을 보여주며 거실의 커뮤니케이션 허브 역할을 수행합니다. 이는 '사용자 부재'라는 **'죽은 시간(dead time)'을 '가족을 위한 가치있는 시간'으로 재정의**하는 것입니다.

**결론적으로, 저희 프로젝트의 차별성은 단순히 '누구인지'를 인식하는 것을 넘어, ①'누가, 언제, 무엇을 하는지'라는 시계열(Time-series) 이력을 학습하여 ②UI를 동적으로 최적화하고, ③'사용자 부재'라는 상황까지도 새로운 가치로 활용하는 데 있습니다.**

## 4. 🔩 핵심 기능 상세 구현 전략

우리의 핵심 차별점인 '상황인지'와 '동적 UI' 기능은 다음의 두 시스템으로 구현됩니다.

#### 사용자 상태 관리 시스템 (Python Server)
Python으로 제작된 AI 서버가 담당하며, 실시간 영상 분석, 상태 로직 처리, DB 관리를 전담합니다.

-   **1단계: 얼굴 인식 및 ID 식별 (Face Recognition & ID Identification)**
    -   **라이브러리**: `face_recognition` (dlib 기반)을 사용하여 라즈베리파이 환경에 최적화된 성능을 확보합니다.
    -   **프로세스**: 
        1.  초기 사용자 등록 시, 여러 각도의 얼굴 사진에서 인코딩 값을 추출하여 사용자 ID와 함께 SQLite DB에 저장합니다.
        2.  카메라 영상 스트림에서 1초에 수회 프레임을 샘플링하여 얼굴 영역을 탐지하고, 해당 얼굴의 인코딩 값을 생성합니다.
        3.  DB에 저장된 인코딩 값들과 실시간 인코딩 값을 비교하여, 가장 오차율이 낮은 사용자 ID를 현재 사용자로 식별합니다. (일치하는 사용자가 없으면 'Unknown'으로 처리)

-   **2단계: 상태 전이 로직 (State Machine)**
    -   **상태 정의**: `'PUBLIC_MODE'`, `'USER_A_MODE'`, `'USER_B_MODE'` 등 명확한 상태를 정의합니다.
    -   **프로세스**: 
        1.  알려진 사용자(A)가 감지되면, 시스템 상태를 `'USER_A_MODE'`로 즉시 전이하고 '부재 확인 타이머'(30초)를 리셋합니다.
        2.  감지된 사용자가 없거나 'Unknown'일 경우, 30초 타이머를 시작합니다.
        3.  타이머가 종료되면, 시스템 상태를 `'PUBLIC_MODE'`로 전이하고, Node.js 서버에 `CHANGE_MODE: 'public'` 알림을 전송합니다.

-   **3단계: 이력 관리 (SQLite DB)**
    -   **DB 스키마**: `history (id INTEGER PRIMARY KEY, timestamp TEXT, user_id TEXT, event_type TEXT, event_detail TEXT)`
    -   **프로세스**: 상태가 전이될 때마다 `(타임스탬프, 사용자ID, 'LOGIN'/'LOGOUT')`과 같은 로그를 DB에 자동으로 기록합니다. 또한, Node.js 서버로부터 특정 위젯 사용 정보를 수신하여 `(..., 'INTERACTION', 'weather_widget')` 형태로 기록하기 위한 API 엔드포인트를 제공합니다.

#### 동적 UI 렌더링 시스템 (Node.js Server)
MagicMirror² 위에서 동작하는 메인 모듈이 담당하며, UI의 최종 표현을 책임집니다.

-   **1단계: 상태 알림 수신**
    -   **프로세스**: Python 서버로부터 `USER_DETECTED: 'A'` 또는 `CHANGE_MODE: 'public'`과 같은 상태 변경 알림을 실시간으로 수신 대기합니다. (WebSocket 또는 주기적인 HTTP Polling 방식 사용)

-   **2단계: 이력 기반 우선순위 요청**
    -   **프로세스**: `'USER_DETECTED: A'` 알림을 받으면, 즉시 Python 서버의 API 엔드포인트(`GET /history/{user_id}/priority`)를 호출하여 해당 사용자의 위젯 우선순위 목록을 요청합니다.

-   **3단계: 우선순위 결정 로직 (Python)**
    -   **프로세스**: API 요청을 받은 Python 서버는 SQLite DB에서 해당 `user_id`의 `history` 테이블을 조회합니다.
    -   **알고리즘**: "최근 7일간의 'INTERACTION' 로그를 집계(GROUP BY)하여, 가장 많이 사용된 `event_detail` (위젯 이름) 순서대로 정렬된 리스트 `['weather', 'news', 'calendar']`를 JSON 형태로 반환"하는 로직을 수행합니다.

-   **4단계: UI 동적 재구성 (Node.js)**
    -   **프로세스**: 우선순위 리스트를 받은 메인 모듈은 MagicMirror²의 모듈 제어 기능을 활용하여, 모듈들의 표시 여부(`show()`, `hide()`)나 위치(`DOM manipulation`)를 동적으로 재구성합니다. 예를 들어, 1순위인 'weather' 모듈을 `top_left` 영역에 표시하고, 나머지 모듈은 순차적으로 다음 영역에 배치하거나 숨김 처리합니다.

---

## 5. 🛠️ 시스템 아키텍처 및 기술 스택

### 프로젝트 아키텍처
**SQLite** 데이터베이스를 중심으로, 두 서버가 유기적으로 상태 정보를 주고받는 **마이크로서비스 아키텍처**입니다.

-   **Python AI & DB Server**: 얼굴 인식을 수행하며, 사용자의 상태 변화(등장, 퇴장)를 감지하여 **SQLite**에 직접 기록합니다. 또한, Node.js 서버의 요청에 따라 특정 사용자의 이력 데이터를 조회하여 제공하는 역할도 담당합니다.

-   **Node.js Main Server (MagicMirror²)**: UI를 제어합니다. AI 서버로부터 현재 사용자 ID를 받으면, 다시 AI 서버(또는 직접 DB)에 해당 사용자의 **이력 데이터**를 요청합니다. 받은 이력 데이터를 바탕으로 모듈의 위치나 순서를 재구성하여 화면에 표시합니다.

> **데이터 흐름 예시 (상태 전이)**:
>
> 1.  카메라에 아무도 없음. **AI 서버**는 30초 이상 '부재(absence)' 상태를 확인하고, **메인 서버**에 `CHANGE_MODE: 'public'` 알림을 보냅니다. 메인 서버는 [가족 공용 모드]를 표시합니다.
> 2.  사용자 A가 등장. **AI 서버**가 A를 인식하고, `(Timestamp, UserID: 'A', Event: 'LOGIN')` 정보를 **SQLite**에 기록합니다.
> 3.  동시에 **메인 서버**에 `USER_DETECTED: 'A'` 알림을 보냅니다.
> 4.  **메인 서버**는 **AI 서버**에 "A의 이력 데이터 줘"라고 요청합니다.
> 5.  요청 결과를 바탕으로 "날씨 위젯을 (x,y) 좌표에, 뉴스 위젯을 (x',y') 좌표에 표시해" 와 같이 동적으로 화면을 구성합니다.

### 화면 구성 (상황인지 기반 자동 전환)

| **가족 공용 모드 (사용자 부재 시)** | **사용자 A 인식 시 (동적 UI 적용)** |
| :---: | :---: |
| - **중앙**: 가족사진 디지털 액자 (Google Photos)<br>- **상단**: 현재 날씨 및 시간 (공용 정보)<br>- **캘린더**: '가족' 공유 캘린더 (공동 일정)<br>- **하단**: 가족 메모 보드 | - **상단 좌측 (우선순위 1)**: 날씨 위젯 (최근 7일간 아침에 가장 많이 확인한 정보)<br>- **상단 우측**: 출근길 교통 정보<br>- **캘린더**: '업무' 개인 캘린더<br>- **하단**: 경제 뉴스 (과거 클릭 빈도가 높은 카테고리) |

### 기술 스택 (Tech Stack)

#### Hardware
-   **Raspberry Pi 4**, **USB Webcam**, **Display & Half Mirror**

#### Core Software & Platform
-   **Raspberry Pi OS**: Debian 기반의 안정적인 운영체제
-   **MagicMirror²**: 프로젝트의 핵심 프레임워크
-   **Node.js**: MagicMirror²의 런타임 환경
-   **Python**: **'사용자 인식 및 상태 관리 API'** 서버 구축
-   **face_recognition (Dlib)**: 라즈베리파이 환경에 최적화된 고정확도 얼굴 인식 라이브러리
-   **SQLite**: **사용자 상태 전이 이력(로그인/아웃, 위젯 사용 빈도 등)** 을 저장하고 관리하기 위한 경량 로컬 데이터베이스

#### APIs & Tools
-   **자체 개발 API**:
    -   **사용자 상태 관리 API (User Status Management API)**:
        1.  실시간으로 사용자를 감지하고 ID를 식별.
        2.  사용자의 등장/퇴장 시간을 타임스탬프와 함께 SQLite에 기록.
        3.  MagicMirror²로부터 특정 위젯 상호작용 정보를 받아 DB에 기록.
        4.  MagicMirror²에 현재 사용자 ID와 정보 우선순위 데이터를 전송.
-   **외부 API**: OpenWeatherMap API, Google Calendar API, NewsAPI
-   **Tools**: Git, Github, SSH, PM2

---

## 6. 🚀 향후 계획 및 결론

### 향후 1년 내 핵심 전략 과제 (Strategic Imperatives):

1.  **크라우드 펀딩 성공적 론칭**
    -   단순 자금 조달을 넘어 **브랜드 가치 전달** 및 **지지층 확보**를 위한 마케팅 플랫폼으로 활용
2.  **핵심 UX(동적 UI)의 완벽한 구현**
    -   **직관적 개인화 경험**, **끊김 없는 성능**, **일관된 UX 설계 원칙** 확보
3.  **‘프라이버시’ 가치에 대한 신뢰 구축**
    -   데이터 처리 방식을 **투명하게 공개**하고, **온디바이스 AI의 장점**을 지속적으로 커뮤니케이션하여 브랜드 자산화

### 최종 결론
**성공 가능성**: 시장에 존재하는 명확한 니즈와, 선행 기술을 뛰어넘는 기술적 차별성을 기반으로 성공 가능성이 **매우 높음**으로 판단됩니다. 본 프로젝트는 단순한 DIY를 넘어, 사용자와 교감하는 지능형 홈 디바이스 시장의 새로운 가능성을 제시할 것입니다.

---

## 7. 💁‍♂️ 프로젝트 팀원

| Project Lead & Developer |
| :---: |
| (팀원 정보) |
